<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Planners ZIPs — GabaritKDP</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background:#f6f7fb; }
    .topbar { background: linear-gradient(180deg,#1f2a3a 0%, #243246 100%); }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <header class="topbar text-white">
    <div class="max-w-6xl mx-auto px-5 py-4 flex items-center justify-between gap-4">
      <a href="/index.html" class="flex items-center gap-3">
        <img src="https://gabaritkdp.b-cdn.net/UI/logo-gabarit-kdp-site-web.png" alt="GabaritKDP" class="h-10 w-10 rounded"/>
        <span class="text-xl font-semibold">GabaritKDP</span>
      </a>

      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a class="hover:opacity-90" href="/index.html" data-i18n="nav_home">Home</a>
        <a class="hover:opacity-90" href="/generator.html" data-i18n="nav_generator">Generator</a>
        <a class="hover:opacity-90" href="/marketplace.html" data-i18n="nav_marketplace">Marketplace</a>
        <a class="hover:opacity-90" href="/pricing.html" data-i18n="nav_pricing">Pricing</a>
      </nav>

      <div class="flex items-center gap-2">
        <div class="bg-white/10 rounded-full p-1 flex items-center">
          <button id="btnFR" class="px-3 py-1 rounded-full text-xs font-semibold hover:bg-white/10" type="button">FR</button>
          <button id="btnEN" class="px-3 py-1 rounded-full text-xs font-semibold hover:bg-white/10" type="button">EN</button>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-1">
    <section class="max-w-6xl mx-auto px-5 py-10">
      <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
        <div>
          <h1 class="text-3xl font-extrabold tracking-tight" data-i18n="title">PLANNERS — ZIP Downloads</h1>
          <p class="text-slate-600 mt-1" data-i18n="subtitle">Search and download planner bundles (ZIP) hosted on Bunny CDN.</p>
        </div>

        <div class="flex gap-2 w-full md:w-[520px]">
          <input id="search" class="flex-1 border border-slate-200 rounded-xl px-4 py-3 bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-300"
                 placeholder="Search by keyword (e.g., budget, academic…)" />
          <button id="clearBtn" class="border border-slate-200 rounded-xl px-4 py-3 bg-white hover:bg-slate-50" data-i18n="clear">Clear</button>
        </div>
      </div>

      <div class="mt-6 flex items-center justify-between text-sm text-slate-600">
        <div><span data-i18n="count_label">Results</span>: <span id="count">0</span></div>
        <div class="flex gap-2">
          <a class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900 text-white hover:opacity-95" href="/marketplace.html">
            ← <span data-i18n="back_market">Back to Marketplace</span>
          </a>
          <a class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-orange-500 text-white hover:opacity-95" href="/generator.html">
            ✨ <span data-i18n="create_cover">Create my cover</span>
          </a>
        </div>
      </div>

      <div id="grid" class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"></div>

      <div class="mt-10 text-xs text-slate-500" data-i18n="note">
        Note: If a download returns 404 right after an upload, purge the Bunny cache (Pull Zone) or wait a few minutes for propagation.
      </div>
    </section>
  </main>

  <footer class="bg-white border-t border-slate-200">
    <div class="max-w-6xl mx-auto px-5 py-10 grid grid-cols-1 md:grid-cols-4 gap-8">
      <div class="md:col-span-2">
        <div class="flex items-center gap-3">
          <img src="https://gabaritkdp.b-cdn.net/UI/logo-gabarit-kdp-site-web.png" class="h-10 w-10 rounded" alt="GabaritKDP"/>
          <div>
            <div class="font-semibold">GabaritKDP</div>
            <div class="text-sm text-slate-600" data-i18n="footer_tagline">The 100% Amazon-compliant KDP cover generator.</div>
          </div>
        </div>
      </div>
      <div>
        <div class="font-semibold mb-3" data-i18n="footer_product">Product</div>
        <ul class="space-y-2 text-sm">
          <li><a class="text-slate-600 hover:text-slate-900" href="/generator.html" data-i18n="nav_generator">Generator</a></li>
          <li><a class="text-slate-600 hover:text-slate-900" href="/marketplace.html" data-i18n="nav_marketplace">Marketplace</a></li>
          <li><a class="text-slate-600 hover:text-slate-900" href="/pricing.html" data-i18n="nav_pricing">Pricing</a></li>
        </ul>
      </div>
      <div>
        <div class="font-semibold mb-3" data-i18n="footer_support">Support</div>
        <ul class="space-y-2 text-sm">
          <li><a class="text-slate-600 hover:text-slate-900" href="/guide.html" data-i18n="footer_guide">Guide</a></li>
          <li><a class="text-slate-600 hover:text-slate-900" href="/contact.html" data-i18n="footer_contact">Contact</a></li>
          <li><a class="text-slate-600 hover:text-slate-900" href="/faq.html" data-i18n="footer_faq">FAQ</a></li>
        </ul>
      </div>
    </div>
    <div class="border-t border-slate-200">
      <div class="max-w-6xl mx-auto px-5 py-4 text-sm text-slate-500">© 2025 GabaritKDP. <span data-i18n="rights">All rights reserved.</span></div>
    </div>
  </footer>

<script>
  // === CONFIG ===
  const BASE_URL = "https://gabaritkdp.b-cdn.net/PLANNERS%202026/"; // change if needed
  const ZIPS = [{"title": "2026 KDP INTERIOR MEGA", "file": "2026-KDP-INTERIOR-MEGA-127377691.zip", "size": "2.63 GB", "keywords": "mega pack, interiors, 2026"}, {"title": "Academic Planners", "file": "Academic Planners.zip", "size": "11.51 MB", "keywords": "academic school semester college"}, {"title": "Budget Planners", "file": "Budget Planners.zip", "size": "6.99 MB", "keywords": "budget finance money tracker"}, {"title": "Business Planners", "file": "Business Planners.zip", "size": "20.81 MB", "keywords": "business entrepreneur marketing planning"}, {"title": "Marketing Planners", "file": "Marketing Planners.zip", "size": "22.28 MB", "keywords": "marketing social media content plan"}, {"title": "Online Shop Planners", "file": "Online Shop Planners.zip", "size": "7.83 MB", "keywords": "ecommerce shop etsy"}, {"title": "Personal Planners", "file": "Personal Planners.zip", "size": "12.56 MB", "keywords": "personal life goals"}, {"title": "Productivity Planners", "file": "Productivity Planners.zip", "size": "34.1 MB", "keywords": "productivity habit tracker"}, {"title": "Spiritual Planners", "file": "Spiritual Planners.zip", "size": "11.1 MB", "keywords": "spiritual faith christian prayer"}, {"title": "Wellness Planners", "file": "Wellness Planners.zip", "size": "25.59 MB", "keywords": "wellness health fitness"}, {"title": "Emotion & Therapy Planners", "file": "Emotion & Therapy Planners.zip", "size": "9.73 MB", "keywords": "emotion therapy mental health"}, {"title": "Event Planners", "file": "Event Planners.zip", "size": "2.33 MB", "keywords": "event wedding party"}, {"title": "Female Planners", "file": "Female Planners.zip", "size": "7.46 MB", "keywords": "female women"}, {"title": "Brain Dump Idea Journal", "file": "Brain-Dump-Idea-Journal-121538262.zip", "size": "8.31 MB", "keywords": "brain dump ideas journal"}, {"title": "Bucket List Journal", "file": "Bucket List Journal.zip", "size": "46.12 MB", "keywords": "bucket list goals travel"}, {"title": "Couples Journal", "file": "Couples-Journal-KDP-Interiors-129433891.zip", "size": "12.18 MB", "keywords": "couples relationship"}, {"title": "100 Editable Templates KDP 2026 Graphics", "file": "100-Editable-Templates-KDP-2026-Graphics-109253720.zip", "size": "70.23 kB", "keywords": "graphics templates"}, {"title": "145 Mega KDP Planners Bundle", "file": "145-Mega-KDP-Planners-Bundle-137476701.zip", "size": "1.89 kB", "keywords": "bundle mega"}];

  const i18n = {
    en: {
      nav_home: "Home",
      nav_generator: "Generator",
      nav_marketplace: "Marketplace",
      nav_pricing: "Pricing",
      title: "PLANNERS — ZIP Downloads",
      subtitle: "Search and download planner bundles (ZIP) hosted on Bunny CDN.",
      clear: "Clear",
      count_label: "Results",
      back_market: "Back to Marketplace",
      create_cover: "Create my cover",
      note: "Note: If a download returns 404 right after an upload, purge the Bunny cache (Pull Zone) or wait a few minutes for propagation.",
      footer_tagline: "The 100% Amazon-compliant KDP cover generator.",
      footer_product: "Product",
      footer_support: "Support",
      footer_guide: "Guide",
      footer_contact: "Contact",
      footer_faq: "FAQ",
      rights: "All rights reserved.",
      btn_download: "Download ZIP",
      btn_copy: "Copy link",
      copied: "Copied ✓",
      search_ph: "Search by keyword (e.g., budget, academic…)"
    },
    fr: {
      nav_home: "Accueil",
      nav_generator: "Générateur",
      nav_marketplace: "Marketplace",
      nav_pricing: "Tarifs",
      title: "PLANNERS — Téléchargements ZIP",
      subtitle: "Recherche et téléchargement de bundles planners (ZIP) hébergés sur Bunny CDN.",
      clear: "Effacer",
      count_label: "Résultats",
      back_market: "Retour Marketplace",
      create_cover: "Créer ma couverture",
      note: "Note : si un téléchargement renvoie 404 juste après un upload, purge le cache Bunny (Pull Zone) ou attends quelques minutes (propagation).",
      footer_tagline: "Le générateur de couvertures KDP 100% conforme Amazon.",
      footer_product: "Produit",
      footer_support: "Support",
      footer_guide: "Guide",
      footer_contact: "Contact",
      footer_faq: "FAQ",
      rights: "Tous droits réservés.",
      btn_download: "Télécharger ZIP",
      btn_copy: "Copier le lien",
      copied: "Copié ✓",
      search_ph: "Rechercher par mots-clés (ex : budget, scolaire…)"
    }
  };

  const elGrid = document.getElementById("grid");
  const elCount = document.getElementById("count");
  const elSearch = document.getElementById("search");
  const elClear = document.getElementById("clearBtn");
  const btnFR = document.getElementById("btnFR");
  const btnEN = document.getElementById("btnEN");

  function norm(str) {
    return (str || "").toString().toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");
  }

  function setLang(lang) {
    const dict = i18n[lang] || i18n.en;
    document.documentElement.lang = lang;
    localStorage.setItem("gkdp_lang", lang);

    btnFR.classList.toggle("bg-white/20", lang === "fr");
    btnEN.classList.toggle("bg-white/20", lang === "en");

    document.querySelectorAll("[data-i18n]").forEach(node => {
      const key = node.getAttribute("data-i18n");
      if (dict[key]) node.textContent = dict[key];
    });

    elSearch.placeholder = dict.search_ph;
    applyFilter();
  }

  function zipUrl(file) {
    const encoded = encodeURIComponent(file).replace(/%2F/g,"/");
    return BASE_URL + encoded;
  }

  function card(zip, lang) {
    const dict = i18n[lang] || i18n.en;
    const url = zipUrl(zip.file);

    const wrap = document.createElement("div");
    wrap.className = "bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden";
    wrap.innerHTML = `
      <div class="p-5">
        <div class="flex items-start justify-between gap-3">
          <div>
            <div class="text-lg font-bold leading-snug">${zip.title}</div>
            <div class="text-sm text-slate-600 mt-1">${zip.file}</div>
          </div>
          <div class="text-xs text-slate-500 whitespace-nowrap">${zip.size || ""}</div>
        </div>

        <div class="mt-4 flex gap-2">
          <a class="flex-1 inline-flex items-center justify-center px-3 py-2 rounded-xl bg-slate-900 text-white hover:opacity-95" href="${url}" download>
            ${dict.btn_download}
          </a>
          <button class="inline-flex items-center justify-center px-3 py-2 rounded-xl border border-slate-200 hover:bg-slate-50" type="button" data-copy="${url}">
            ${dict.btn_copy}
          </button>
        </div>

        <div class="mt-3 text-xs text-slate-500">${zip.keywords || ""}</div>
      </div>
    `;
    const btn = wrap.querySelector("button[data-copy]");
    btn.addEventListener("click", async () => {
      const old = btn.textContent;
      try {
        await navigator.clipboard.writeText(btn.getAttribute("data-copy"));
        btn.textContent = dict.copied;
        setTimeout(() => btn.textContent = old, 900);
      } catch (e) {
        window.prompt(lang === "fr" ? "Copie ce lien :" : "Copy this link:", btn.getAttribute("data-copy"));
      }
    });
    return wrap;
  }

  function render(list) {
    const lang = localStorage.getItem("gkdp_lang") || "en";
    elGrid.innerHTML = "";
    list.forEach(z => elGrid.appendChild(card(z, lang)));
    elCount.textContent = String(list.length);
  }

  function applyFilter() {
    const q = norm(elSearch.value).trim();
    if (!q) return render(ZIPS);
    const filtered = ZIPS.filter(z => {
      const hay = norm(z.title) + " " + norm(z.file) + " " + norm(z.keywords);
      return hay.includes(q);
    });
    render(filtered);
  }

  elSearch.addEventListener("input", applyFilter);
  elClear.addEventListener("click", () => {
    elSearch.value = "";
    elSearch.focus();
    applyFilter();
  });
  btnFR.addEventListener("click", () => setLang("fr"));
  btnEN.addEventListener("click", () => setLang("en"));

  setLang(localStorage.getItem("gkdp_lang") || "en");
</script>
</body>
</html>
