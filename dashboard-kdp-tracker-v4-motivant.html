<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KDP Tracker v4 - B√¢tis Ton Empire KDP | GabaritKDP</title>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --brand-primary: #FF9900;
      --brand-secondary: #FF6600;
      --brand-dark: #1a1a1a;
      --brand-darker: #0f0f0f;
      --brand-light: #2d2d2d;
      --brand-lighter: #3a3a3a;
      --text-primary: #ffffff;
      --text-secondary: #aaaaaa;
      --border: rgba(255, 153, 0, 0.3);
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
      --green: #0c8f3a;
      --orange: #e6a700;
      --red: #c0392b;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, var(--brand-dark) 0%, var(--brand-light) 100%);
      color: var(--text-primary);
      min-height: 100vh;
      padding-bottom: 50px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    /* HEADER */
    .hero-header {
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      padding: 60px 30px;
      text-align: center;
      border-radius: 20px;
      margin-bottom: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,.4);
      position: relative;
      overflow: hidden;
    }

    .hero-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, var(--brand-primary) 0%, transparent 100%);
      opacity: 0.1;
      pointer-events: none;
    }

    .hero-title {
      font-size: 48px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 15px;
      position: relative;
    }

    .hero-subtitle {
      font-size: 22px;
      color: var(--text-secondary);
      max-width: 800px;
      margin: 0 auto 30px;
      line-height: 1.6;
      position: relative;
    }

    .hero-intro {
      font-size: 18px;
      color: var(--text-primary);
      max-width: 900px;
      margin: 0 auto;
      line-height: 1.8;
      padding: 25px;
      background: rgba(255,255,255,0.05);
      border-radius: 15px;
      border: 1px solid rgba(255,153,0,0.2);
      position: relative;
    }

    /* DISCLAIMER */
    .disclaimer {
      background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
      color: #1a1a1a;
      padding: 25px 30px;
      border-radius: 15px;
      margin-bottom: 30px;
      border-left: 5px solid #f57c00;
      box-shadow: 0 6px 20px rgba(255,193,7,0.3);
    }

    .disclaimer-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .disclaimer-content {
      line-height: 1.8;
      font-size: 15px;
    }

    .disclaimer-content p {
      margin-bottom: 12px;
    }

    .disclaimer-phases {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 2px solid rgba(0,0,0,0.1);
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .phase-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 15px;
      background: rgba(0,0,0,0.15);
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
    }

    /* GUIDE STEPS */
    .guide-steps {
      background: var(--brand-light);
      padding: 30px;
      border-radius: 15px;
      margin-bottom: 30px;
      border: 1px solid var(--border);
    }

    .guide-title {
      font-size: 24px;
      margin-bottom: 20px;
      color: var(--brand-primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .steps-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .step-card {
      background: var(--brand-lighter);
      padding: 20px;
      border-radius: 12px;
      border-left: 4px solid var(--brand-primary);
      transition: transform 0.3s;
    }

    .step-card:hover {
      transform: translateY(-5px);
    }

    .step-number {
      width: 40px;
      height: 40px;
      background: var(--brand-primary);
      color: var(--brand-dark);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 20px;
      margin-bottom: 12px;
    }

    .step-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .step-description {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* FILTERS */
    .filters-section {
      background: var(--brand-light);
      padding: 25px 30px;
      border-radius: 15px;
      margin-bottom: 25px;
      border: 1px solid var(--border);
    }

    .filters-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--brand-primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .filters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .filter-label {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .filter-select {
      padding: 12px 15px;
      background: var(--brand-lighter);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 15px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .filter-select:hover, .filter-select:focus {
      border-color: var(--brand-primary);
      outline: none;
    }

    .filter-checkbox {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      background: var(--brand-lighter);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .filter-checkbox:hover {
      background: rgba(255,153,0,0.1);
    }

    .filter-checkbox input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
      accent-color: var(--brand-primary);
    }

    .filter-checkbox label {
      cursor: pointer;
      font-size: 15px;
      flex: 1;
    }

    .filter-stats {
      background: rgba(255,153,0,0.1);
      padding: 15px 20px;
      border-radius: 10px;
      margin-top: 15px;
      font-size: 15px;
      text-align: center;
      color: var(--brand-primary);
      font-weight: 600;
    }

    /* NICHES TABLE */
    .niches-section {
      background: var(--brand-light);
      padding: 30px;
      border-radius: 15px;
      border: 1px solid var(--border);
      margin-bottom: 30px;
    }

    .niches-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .niches-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--brand-primary);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .motivational-message {
      background: rgba(255,153,0,0.1);
      padding: 15px 20px;
      border-radius: 10px;
      border-left: 4px solid var(--brand-primary);
      margin-bottom: 20px;
      font-size: 15px;
      line-height: 1.6;
    }

    .table-container {
      overflow-x: auto;
      border-radius: 12px;
      border: 1px solid var(--border);
    }

    .niches-table {
      width: 100%;
      border-collapse: collapse;
      background: var(--brand-lighter);
    }

    .niches-table thead {
      background: var(--brand-dark);
    }

    .niches-table th {
      padding: 16px 20px;
      text-align: left;
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--brand-primary);
      border-bottom: 2px solid var(--brand-primary);
    }

    .niches-table td {
      padding: 18px 20px;
      border-bottom: 1px solid var(--border);
      font-size: 15px;
    }

    .niches-table tbody tr {
      transition: all 0.3s;
    }

    .niches-table tbody tr:hover {
      background: rgba(255,153,0,0.05);
    }

    .niche-name {
      font-weight: 600;
      font-size: 16px;
      color: var(--text-primary);
    }

    .niche-emoji {
      font-size: 24px;
      margin-right: 8px;
    }

    .badge {
      display: inline-block;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .badge-hot {
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
      color: white;
    }

    .badge-good {
      background: linear-gradient(135deg, #51cf66, #37b24d);
      color: white;
    }

    .badge-stable {
      background: linear-gradient(135deg, #ffd93d, #f59e0b);
      color: #1a1a1a;
    }

    .badge-trend {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      margin-left: 8px;
    }

    .badge-low-comp {
      background: linear-gradient(135deg, #06b6d4, #0891b2);
      color: white;
      margin-left: 8px;
    }

    .badge-gem {
      background: linear-gradient(135deg, #ec4899, #db2777);
      color: white;
      margin-left: 8px;
    }

    .score-cell {
      text-align: center;
      font-weight: 700;
      font-size: 18px;
    }

    .score-green {
      color: var(--green);
    }

    .score-orange {
      color: var(--orange);
    }

    .score-red {
      color: var(--red);
    }

    /* CTA SECTION */
    .cta-section {
      background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary));
      padding: 50px 40px;
      border-radius: 20px;
      text-align: center;
      margin-top: 40px;
      box-shadow: 0 10px 40px rgba(255,153,0,0.3);
    }

    .cta-title {
      font-size: 36px;
      font-weight: 800;
      margin-bottom: 20px;
      color: var(--brand-dark);
    }

    .cta-text {
      font-size: 18px;
      color: var(--brand-dark);
      margin-bottom: 35px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.8;
    }

    .cta-actions {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .action-step {
      background: rgba(0,0,0,0.2);
      padding: 20px 30px;
      border-radius: 12px;
      min-width: 200px;
    }

    .action-number {
      font-size: 28px;
      font-weight: 700;
      color: var(--brand-dark);
      margin-bottom: 8px;
    }

    .action-text {
      font-size: 15px;
      color: var(--brand-darker);
      font-weight: 600;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 32px;
      }

      .hero-subtitle {
        font-size: 18px;
      }

      .hero-intro {
        font-size: 16px;
        padding: 20px;
      }

      .steps-grid {
        grid-template-columns: 1fr;
      }

      .filters-grid {
        grid-template-columns: 1fr;
      }

      .table-container {
        border-radius: 8px;
      }

      .niches-table th,
      .niches-table td {
        padding: 12px 15px;
        font-size: 13px;
      }

      .cta-title {
        font-size: 28px;
      }

      .cta-text {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    
    <!-- Hero Header -->
    <div class="hero-header">
      <h1 class="hero-title">üöÄ B√¢tis Ton Empire KDP, Une Niche Rentable √† la Fois</h1>
      <p class="hero-subtitle">Tu n'as pas besoin de chance, tu as besoin d'un plan. Ici, tu rep√®res les niches intelligentes et tu passes √† l'action, aujourd'hui.</p>
      <div class="hero-intro">
        <strong>Bienvenue dans ton laboratoire de niches KDP.</strong><br>
        Chaque ligne ici peut devenir un livre, et chaque livre peut devenir une nouvelle source de revenus. Tu n'as pas √† tout faire d'un coup : avance une niche, un livre, un palier de revenus √† la fois.
      </div>
    </div>

    <!-- Disclaimer Beta -->
    <div class="disclaimer">
      <div class="disclaimer-title">
        <i class="fas fa-info-circle"></i>
        DASHBOARD EN BETA - Phase 1 : Donn√©es Estim√©es
      </div>
      <div class="disclaimer-content">
        <p><strong>Les niches et scores affich√©s sont bas√©s sur des analyses de march√© et tendances Amazon 2025.</strong></p>
        <p>‚úÖ <strong>Utilise-les pour EXPLORER</strong> des id√©es de niches rentables</p>
        <p>‚ö†Ô∏è <strong>V√©rifie toujours sur Amazon.com</strong> avant de publier ton livre</p>
        <p>üöÄ <strong>Vraies donn√©es Amazon arrivent en Phase 2 & 3</strong> (Publisher Rocket + PA-API)</p>
        
        <div class="disclaimer-phases">
          <div class="phase-badge">
            <span>üìç Phase 1</span>
            <span>Donn√©es estim√©es (ACTUEL)</span>
          </div>
          <div class="phase-badge">
            <span>üìä Phase 2</span>
            <span>70% donn√©es r√©elles (Publisher Rocket)</span>
          </div>
          <div class="phase-badge">
            <span>‚úÖ Phase 3</span>
            <span>100% donn√©es Amazon API</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Guide Steps -->
    <div class="guide-steps">
      <h2 class="guide-title">
        <i class="fas fa-rocket"></i>
        Comment Utiliser Cette Page Pour Exploser Tes R√©sultats KDP
      </h2>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-number">1</div>
          <div class="step-title">Choisis Ton March√©</div>
          <div class="step-description">S√©lectionne USA ou France, et un type de livre (coloring book, journal, planner, roman, etc.)</div>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <div class="step-title">Filtre les Meilleures Niches</div>
          <div class="step-description">Utilise le score de niche pour rep√©rer celles avec forte demande et concurrence raisonnable</div>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <div class="step-title">Passe √† l'Action Aujourd'hui</div>
          <div class="step-description">Garde 3-5 id√©es et d√©cide d'une action concr√®te √† faire maintenant. M√™me un petit pas compte.</div>
        </div>
      </div>
    </div>

    <!-- Filters Section -->
    <div class="filters-section">
      <h3 class="filters-title">
        <i class="fas fa-filter"></i>
        Filtres d'Opportunit√©s - Trouve Ta P√©pite
      </h3>
      
      <div class="filters-grid">
        <div class="filter-group">
          <label class="filter-label">March√©</label>
          <select class="filter-select" id="filterMarket" onchange="applyFilters()">
            <option value="">Tous les march√©s</option>
            <option value="USA">üá∫üá∏ USA</option>
            <option value="France">üá´üá∑ France</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">Type de Livre</label>
          <select class="filter-select" id="filterType" onchange="applyFilters()">
            <option value="">Tous les types</option>
            <option value="Coloring book">üé® Coloring Book</option>
            <option value="Journal">üìî Journal</option>
            <option value="Planner">üìÖ Planner</option>
            <option value="Activity book">üéØ Activity Book</option>
            <option value="Notebook">üìì Notebook</option>
            <option value="Roman">üìö Roman</option>
            <option value="Non-fiction">üìñ Non-Fiction</option>
          </select>
        </div>

        <div class="filter-group">
          <label class="filter-label">Score Minimum</label>
          <select class="filter-select" id="filterScore" onchange="applyFilters()">
            <option value="0">Tous les scores</option>
            <option value="70">‚≠ê Opportunit√©s vertes (70+)</option>
            <option value="40">üí° √Ä creuser (40+)</option>
          </select>
        </div>
      </div>

      <div class="filter-checkbox">
        <input type="checkbox" id="filterLowComp" onchange="applyFilters()">
        <label for="filterLowComp">üå± Afficher uniquement les niches √† faible concurrence (parfait pour d√©buter)</label>
      </div>

      <div class="filter-stats" id="filterStats">
        Toutes les niches affich√©es
      </div>
    </div>

    <!-- Niches Section -->
    <div class="niches-section">
      <div class="niches-header">
        <h2 class="niches-title">
          <i class="fas fa-gem"></i>
          Niches Rentables KDP
        </h2>
      </div>

      <div class="motivational-message" id="motivationalMsg">
        üí° <strong>Chaque ligne est une opportunit√©.</strong> Ta mission : rep√©rer celles qui te donnent envie de cr√©er‚Ä¶ et ne plus les laisser dormir dans un tableau.
      </div>

      <div class="table-container">
        <table class="niches-table" id="nichesTable">
          <thead>
            <tr>
              <th>Niche</th>
              <th>March√©</th>
              <th>Type</th>
              <th>Demande</th>
              <th>Concurrence</th>
              <th>BSR Moyen</th>
              <th>Score Niche</th>
              <th>Badges</th>
            </tr>
          </thead>
          <tbody id="nichesBody">
            <!-- Les niches seront ins√©r√©es ici par JavaScript -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="cta-section">
      <h2 class="cta-title">Tu as Trouv√© Une Niche Qui Te Donne Envie ?</h2>
      <p class="cta-text">
        Ne la laisse pas dans le tableau. Note 3 id√©es de titres, ouvre ton logiciel d'√©criture et commence. Ton futur toi te remerciera d'avoir cliqu√© sur "Publier" aujourd'hui, pas dans six mois.
      </p>
      <div class="cta-actions">
        <div class="action-step">
          <div class="action-number">1Ô∏è‚É£</div>
          <div class="action-text">Choisis 1-2 niches vertes</div>
        </div>
        <div class="action-step">
          <div class="action-number">2Ô∏è‚É£</div>
          <div class="action-text">V√©rifie les couvertures sur Amazon</div>
        </div>
        <div class="action-step">
          <div class="action-number">3Ô∏è‚É£</div>
          <div class="action-text">Liste 10 id√©es de titres</div>
        </div>
        <div class="action-step">
          <div class="action-number">4Ô∏è‚É£</div>
          <div class="action-text">Commence TON livre aujourd'hui</div>
        </div>
      </div>
    </div>

  </div>

  <script>
    // üéØ DONN√âES MOCK√âES - PHASE 1
    // Ces donn√©es sont des estimations bas√©es sur analyses de march√© 2025
    const nichesData = [
      {
        emoji: 'üìî',
        name: 'Planners 2025',
        market: 'USA',
        type: 'Planner',
        demand: 85,
        competition: 65,
        bsr: 15000,
        isLowComp: false
      },
      {
        emoji: 'üé®',
        name: 'Dog Coloring Books',
        market: 'USA',
        type: 'Coloring book',
        demand: 78,
        competition: 45,
        bsr: 28000,
        isLowComp: true
      },
      {
        emoji: 'üìì',
        name: 'Gratitude Journals',
        market: 'USA',
        type: 'Journal',
        demand: 82,
        competition: 70,
        bsr: 22000,
        isLowComp: false
      },
      {
        emoji: 'üå∏',
        name: 'Floral Activity Books',
        market: 'USA',
        type: 'Activity book',
        demand: 65,
        competition: 35,
        bsr: 45000,
        isLowComp: true
      },
      {
        emoji: 'üìñ',
        name: 'Bullet Journals',
        market: 'USA',
        type: 'Journal',
        demand: 88,
        competition: 75,
        bsr: 18000,
        isLowComp: false
      },
      {
        emoji: 'üéØ',
        name: 'Goal Setting Planners',
        market: 'USA',
        type: 'Planner',
        demand: 75,
        competition: 55,
        bsr: 32000,
        isLowComp: false
      },
      {
        emoji: 'üê±',
        name: 'Cat Coloring Books',
        market: 'USA',
        type: 'Coloring book',
        demand: 72,
        competition: 40,
        bsr: 35000,
        isLowComp: true
      },
      {
        emoji: '‚úçÔ∏è',
        name: 'Writing Journals',
        market: 'USA',
        type: 'Journal',
        demand: 68,
        competition: 50,
        bsr: 38000,
        isLowComp: false
      },
      {
        emoji: 'üå∫',
        name: 'Mandala Coloring',
        market: 'USA',
        type: 'Coloring book',
        demand: 80,
        competition: 60,
        bsr: 25000,
        isLowComp: false
      },
      {
        emoji: 'üìÖ',
        name: 'Daily Planners',
        market: 'USA',
        type: 'Planner',
        demand: 90,
        competition: 80,
        bsr: 12000,
        isLowComp: false
      },
      {
        emoji: 'üìî',
        name: 'Planners 2025',
        market: 'France',
        type: 'Planner',
        demand: 70,
        competition: 45,
        bsr: 35000,
        isLowComp: true
      },
      {
        emoji: 'üé®',
        name: 'Coloriages Adultes',
        market: 'France',
        type: 'Coloring book',
        demand: 75,
        competition: 50,
        bsr: 28000,
        isLowComp: false
      },
      {
        emoji: 'üìì',
        name: 'Carnets de Gratitude',
        market: 'France',
        type: 'Journal',
        demand: 65,
        competition: 35,
        bsr: 42000,
        isLowComp: true
      },
      {
        emoji: 'üìñ',
        name: 'Bullet Journals FR',
        market: 'France',
        type: 'Journal',
        demand: 72,
        competition: 55,
        bsr: 32000,
        isLowComp: false
      },
      {
        emoji: 'üå∏',
        name: 'Coloriages Fleurs',
        market: 'France',
        type: 'Coloring book',
        demand: 68,
        competition: 40,
        bsr: 38000,
        isLowComp: true
      },
      {
        emoji: 'üìö',
        name: 'Romance Contemporaine',
        market: 'France',
        type: 'Roman',
        demand: 85,
        competition: 75,
        bsr: 18000,
        isLowComp: false
      },
      {
        emoji: 'üîÆ',
        name: 'Fantasy Romance',
        market: 'France',
        type: 'Roman',
        demand: 78,
        competition: 60,
        bsr: 25000,
        isLowComp: false
      },
      {
        emoji: 'üíº',
        name: 'D√©veloppement Personnel',
        market: 'France',
        type: 'Non-fiction',
        demand: 80,
        competition: 65,
        bsr: 22000,
        isLowComp: false
      },
      {
        emoji: 'üéØ',
        name: 'Objectifs & Motivation',
        market: 'France',
        type: 'Non-fiction',
        demand: 70,
        competition: 45,
        bsr: 35000,
        isLowComp: true
      },
      {
        emoji: 'üåü',
        name: 'Kids Story Books',
        market: 'USA',
        type: 'Activity book',
        demand: 82,
        competition: 70,
        bsr: 20000,
        isLowComp: false
      }
    ];

    // Fonction de calcul du score de niche
    function calculateNicheScore(demand, competition, bsr) {
      // Normalisation des valeurs
      const demandScore = Math.min(Math.max(demand, 0), 100);
      const competitionScore = 100 - Math.min(Math.max(competition, 0), 100);
      
      // Normalisation BSR (plus bas = mieux)
      const bsrNormalized = Math.max(10000, Math.min(bsr, 1000000));
      const bsrScore = 100 - ((bsrNormalized - 10000) / (1000000 - 10000)) * 100;

      // Calcul pond√©r√©
      const score = (0.4 * demandScore) + (0.3 * competitionScore) + (0.3 * bsrScore);
      
      return Math.round(Math.min(Math.max(score, 0), 100));
    }

    // Fonction pour d√©terminer les badges automatiques
    function getNicheBadges(score, demand, competition, isLowComp) {
      const badges = [];
      
      if (score >= 80) {
        badges.push({ text: 'üî• Tendance', class: 'badge-trend' });
      }
      
      if (isLowComp) {
        badges.push({ text: 'üå± Faible Concurrence', class: 'badge-low-comp' });
      }
      
      if (demand >= 80 && competition <= 50) {
        badges.push({ text: 'üíé P√©pite', class: 'badge-gem' });
      }
      
      return badges;
    }

    // Fonction pour afficher les niches
    function displayNiches(nichesToDisplay) {
      const tbody = document.getElementById('nichesBody');
      tbody.innerHTML = '';

      nichesToDisplay.forEach(niche => {
        const score = calculateNicheScore(niche.demand, niche.competition, niche.bsr);
        const badges = getNicheBadges(score, niche.demand, niche.competition, niche.isLowComp);
        
        // D√©terminer la couleur du score
        let scoreClass = 'score-red';
        let statusBadge = '<span class="badge badge-hot">‚ö†Ô∏è Satur√©</span>';
        if (score >= 70) {
          scoreClass = 'score-green';
          statusBadge = '<span class="badge badge-hot">üî• Opportunit√©</span>';
        } else if (score >= 40) {
          scoreClass = 'score-orange';
          statusBadge = '<span class="badge badge-good">üí° √Ä Creuser</span>';
        }

        const row = document.createElement('tr');
        row.innerHTML = `
          <td>
            <div class="niche-name">
              <span class="niche-emoji">${niche.emoji}</span>
              ${niche.name}
            </div>
          </td>
          <td>${niche.market === 'USA' ? 'üá∫üá∏ USA' : 'üá´üá∑ France'}</td>
          <td>${niche.type}</td>
          <td>${niche.demand >= 75 ? '√âlev√©e' : niche.demand >= 50 ? 'Moyenne' : 'Faible'}</td>
          <td>${niche.competition >= 70 ? 'Forte' : niche.competition >= 40 ? 'Moyenne' : 'Faible'}</td>
          <td>${niche.bsr.toLocaleString()}</td>
          <td class="score-cell ${scoreClass}">${score}/100</td>
          <td>
            ${statusBadge}
            ${badges.map(b => `<span class="badge ${b.class}">${b.text}</span>`).join('')}
          </td>
        `;
        tbody.appendChild(row);
      });

      updateMotivationalMessage(nichesToDisplay.length);
    }

    // Fonction pour mettre √† jour le message motivant
    function updateMotivationalMessage(count) {
      const msgDiv = document.getElementById('motivationalMsg');
      
      if (count === 0) {
        msgDiv.innerHTML = 'üîç <strong>Aucune niche trouv√©e avec ces crit√®res.</strong> Ajuste un peu tes filtres : la bonne niche n\'est jamais loin quand tu continues d\'explorer.';
      } else if (count >= 10) {
        msgDiv.innerHTML = 'üéâ <strong>Bien jou√©, tu viens de faire ressortir les niches les plus prometteuses.</strong> Tu n\'as pas besoin de toutes les exploiter. Une seule peut d√©j√† faire une √©norme diff√©rence.';
      } else if (count <= 5) {
        msgDiv.innerHTML = 'üíé <strong>Peu de r√©sultats, c\'est souvent peu de concurrence.</strong> Si une niche te parle, tu peux devenir la r√©f√©rence sur ce sujet.';
      } else {
        msgDiv.innerHTML = 'üí° <strong>Chaque ligne est une opportunit√©.</strong> Ta mission : rep√©rer celles qui te donnent envie de cr√©er‚Ä¶ et ne plus les laisser dormir dans un tableau.';
      }
    }

    // Fonction d'application des filtres
    function applyFilters() {
      const market = document.getElementById('filterMarket').value;
      const type = document.getElementById('filterType').value;
      const minScore = parseInt(document.getElementById('filterScore').value) || 0;
      const lowCompOnly = document.getElementById('filterLowComp').checked;

      let filtered = nichesData.filter(niche => {
        const score = calculateNicheScore(niche.demand, niche.competition, niche.bsr);
        
        if (market && niche.market !== market) return false;
        if (type && niche.type !== type) return false;
        if (score < minScore) return false;
        if (lowCompOnly && !niche.isLowComp) return false;
        
        return true;
      });

      displayNiches(filtered);
      updateFilterStats(filtered.length, nichesData.length);
    }

    // Fonction pour mettre √† jour les statistiques de filtrage
    function updateFilterStats(shown, total) {
      const statsDiv = document.getElementById('filterStats');
      
      if (shown === total) {
        statsDiv.innerHTML = `üìä Toutes les ${total} niches affich√©es`;
      } else {
        const greenCount = shown;
        statsDiv.innerHTML = `‚úÖ ${shown} niche${shown > 1 ? 's' : ''} trouv√©e${shown > 1 ? 's' : ''} sur ${total} ¬∑ ${greenCount} opportunit√©${greenCount > 1 ? 's' : ''} √† saisir`;
      }
    }

    // Initialisation au chargement de la page
    document.addEventListener('DOMContentLoaded', function() {
      displayNiches(nichesData);
      updateFilterStats(nichesData.length, nichesData.length);
    });
  </script>

</body>
</html>
