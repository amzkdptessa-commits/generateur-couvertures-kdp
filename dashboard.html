<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GabaritKDP Tracker - Dashboard Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --bg-dark: #121212;
            --card-bg: #2d2d2d;
            --accent-orange: #f97316;
            --text-main: #ffffff;
            --text-dim: #b3b3b3;
            --border: #3e3e3e;
        }

        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg-dark); color: var(--text-main); margin: 0; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }

        /* --- Banner Extension --- */
        .extension-banner {
            background: rgba(249, 115, 22, 0.05);
            border: 1px solid var(--accent-orange);
            border-radius: 8px; padding: 15px 25px;
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;
        }
        .btn-sync { background: var(--accent-orange); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; }

        /* --- Stats Rapides --- */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: var(--card-bg); padding: 20px; border-radius: 10px; border: 1px solid var(--border); }
        .stat-card h4 { margin: 0; font-size: 0.75rem; color: var(--text-dim); text-transform: uppercase; }
        .stat-card .value { font-size: 1.8rem; font-weight: bold; margin-top: 10px; color: var(--accent-orange); }

        /* --- Graphiques --- */
        .charts-row { display: grid; grid-template-columns: 1.5fr 1fr; gap: 15px; margin-bottom: 25px; }
        .chart-container { background: var(--card-bg); padding: 20px; border-radius: 10px; border: 1px solid var(--border); height: 320px; }

        /* --- Grille des 14 Catégories --- */
        .cat-section { text-align: center; margin-bottom: 40px; }
        .category-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 15px; margin-top: 30px; }
        .cat-item { cursor: pointer; display: flex; flex-direction: column; align-items: center; transition: 0.3s; opacity: 0.8; }
        .cat-icon { 
            width: 90px; height: 90px; background: #f0f2f5; 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            border: 3px solid transparent; margin-bottom: 10px; 
        }
        .cat-icon i { font-size: 30px; color: #2c3e50; }
        .cat-item p { font-size: 0.7rem; font-weight: bold; color: var(--text-main); max-width: 110px; line-height: 1.2; margin: 0; }
        .cat-item:hover, .cat-item.active { opacity: 1; }
        .cat-item:hover .cat-icon, .cat-item.active .cat-icon { border-color: var(--accent-orange); background: white; transform: translateY(-5px); }
        .cat-item.active i { color: var(--accent-orange); }

        /* --- Section Fonctionnalité à venir (REMPLACE LE TABLEAU) --- */
        .coming-soon-box { 
            background: var(--card-bg); 
            border-radius: 12px; 
            padding: 60px 20px; 
            border: 2px dashed var(--border); 
            margin-bottom: 30px; 
            text-align: center;
        }
        .coming-soon-box i { font-size: 3rem; color: var(--accent-orange); margin-bottom: 20px; opacity: 0.5; }
        .coming-soon-box h3 { font-size: 1.5rem; margin-bottom: 10px; color: var(--text-main); }
        .coming-soon-box p { color: var(--text-dim); max-width: 500px; margin: 0 auto; line-height: 1.6; }
        
        /* --- Footer --- */
        .cta-footer { text-align: center; padding: 40px; border: 1px dashed var(--accent-orange); border-radius: 15px; background: #1a1a1a; margin-top: 20px; }
        .btn-marketplace { background: #2563eb; color: white; padding: 15px 40px; border-radius: 30px; text-decoration: none; font-weight: bold; display: inline-block; margin-top: 15px; transition: 0.3s; }
        .btn-marketplace:hover { background: #1d4ed8; transform: scale(1.05); }
    </style>
</head>
<body>

<div class="container">
    
    <!-- Banner Extension -->
    <div class="extension-banner">
        <div style="display:flex; align-items:center; gap:15px;">
            <div style="background:var(--accent-orange); padding:10px; border-radius:8px;"><i class="fas fa-plug"></i></div>
            <div><strong>GabaritKDP Tracker Connecté</strong><br><small style="color: var(--text-dim)">Vérification en temps réel des ventes</small></div>
        </div>
        <button class="btn-sync" onclick="location.reload()">ACTUALISER LES DONNÉES</button>
    </div>

    <!-- Stats Rapides -->
    <div class="stats-grid">
        <div class="stat-card"><h4>Royalties Totales</h4><div class="value">0.00 €</div></div>
        <div class="stat-card"><h4>Unités Vendues</h4><div class="value">0</div></div>
        <div class="stat-card"><h4>Livres Actifs</h4><div class="value">0</div></div>
        <div class="stat-card"><h4>Marketplace Top</h4><div class="value">--</div></div>
    </div>

    <!-- Graphiques -->
    <div class="charts-row">
        <div class="chart-container">
            <h3 style="margin:0 0 10px 0; font-size:0.9rem;"><i class="fas fa-chart-line"></i> Évolution des Revenus</h3>
            <canvas id="revenueChart"></canvas>
        </div>
        <div class="chart-container">
            <h3 style="margin:0 0 10px 0; font-size:0.9rem;"><i class="fas fa-globe"></i> Répartition des Ventes</h3>
            <canvas id="marketChart"></canvas>
        </div>
    </div>

    <!-- Grille des 14 Catégories -->
    <div class="cat-section">
        <h2 style="text-transform: uppercase;">Categories a Best Sellers</h2>
        <div class="category-grid">
            <div class="cat-item" onclick="selectCat('Livres pour enfants', this)"><div class="cat-icon"><i class="fas fa-rocket"></i></div><p>Livres pour enfants</p></div>
            <div class="cat-item" onclick="selectCat('Romans et littérature', this)"><div class="cat-icon"><i class="fas fa-book-open"></i></div><p>Romans et littérature</p></div>
            <div class="cat-item" onclick="selectCat('Langues étrangères', this)"><div class="cat-icon"><i class="fas fa-language"></i></div><p>Langues étrangères</p></div>
            <div class="cat-item" onclick="selectCat('Santé et Diététique', this)"><div class="cat-icon"><i class="fas fa-apple-alt"></i></div><p>Santé et Diététique</p></div>
            <div class="cat-item" onclick="selectCat('Scolaire et Parascolaire', this)"><div class="cat-icon"><i class="fas fa-school"></i></div><p>Scolaire et Parascolaire</p></div>
            <div class="cat-item" onclick="selectCat('Bandes dessinées', this)"><div class="cat-icon"><i class="fas fa-bolt"></i></div><p>Bandes dessinées</p></div>
            <div class="cat-item" onclick="selectCat('Manga', this)"><div class="cat-icon"><i class="fas fa-user-ninja"></i></div><p>Manga</p></div>
            <div class="cat-item" onclick="selectCat('Sciences humaines', this)"><div class="cat-icon"><i class="fas fa-brain"></i></div><p>Sciences humaines</p></div>
            <div class="cat-item" onclick="selectCat('Sciences & Tech', this)"><div class="cat-icon"><i class="fas fa-flask"></i></div><p>Sciences & Tech</p></div>
            <div class="cat-item" onclick="selectCat('Spiritualités', this)"><div class="cat-icon"><i class="fas fa-dove"></i></div><p>Spiritualités</p></div>
            <div class="cat-item" onclick="selectCat('Mystère et suspense', this)"><div class="cat-icon"><i class="fas fa-search"></i></div><p>Mystère et suspense</p></div>
            <div class="cat-item" onclick="selectCat('Cuisine et vins', this)"><div class="cat-icon"><i class="fas fa-utensils"></i></div><p>Cuisine et vins</p></div>
            <div class="cat-item" onclick="selectCat('Planner', this)"><div class="cat-icon"><i class="fas fa-calendar-alt"></i></div><p>Planner</p></div>
            <div class="cat-item" onclick="selectCat('Coloring book', this)"><div class="cat-icon"><i class="fas fa-paint-brush"></i></div><p>Coloring book</p></div>
        </div>
    </div>

    <!-- Message de Fonctionnalité à venir -->
    <div class="coming-soon-box">
        <i class="fas fa-search-dollar"></i>
        <h3 id="coming-soon-title">Analyse des niches : Fonctionnalité à venir</h3>
        <p id="coming-soon-desc">Nous collectons et analysons actuellement les données multi-plateformes pour la catégorie sélectionnée. Bientôt, vous pourrez visualiser les potentiels de gains par marché ici.</p>
    </div>

    <!-- Footer Marketplace -->
    <div class="cta-footer">
        <h3>Foncez vers la marketplace et créez votre prochain livre</h3>
        <a href="https://gabaritkdp.com/marketplace.html" class="btn-marketplace">ACCÉDER À LA MARKETPLACE <i class="fas fa-rocket"></i></a>
    </div>
</div>

<script>
    // --- Config Graphiques ---
    const chartDefaults = { responsive:true, maintainAspectRatio:false, plugins:{legend:{display:false}} };
    new Chart(document.getElementById('revenueChart'), { type: 'line', data: { labels: Array(30).fill(''), datasets: [{ data: Array(30).fill(0), borderColor: '#f97316' }] }, options: chartDefaults });
    new Chart(document.getElementById('marketChart'), { type: 'doughnut', data: { labels: ['US','UK','DE','FR','ES'], datasets: [{ data: [1,1,1,1,1], backgroundColor: ['#f97316','#2563eb','#4ade80','#facc15','#a855f7'] }] }, options: chartDefaults });

    // --- Fonction simple pour la sélection visuelle ---
    function selectCat(catName, element) {
        // Gérer l'état actif visuel
        document.querySelectorAll('.cat-item').forEach(i => i.classList.remove('active'));
        element.classList.add('active');

        // Mettre à jour le texte du placeholder pour montrer que le système "écoute"
        document.getElementById('coming-soon-title').innerText = "Analyse : " + catName;
        document.getElementById('coming-soon-desc').innerText = "L'analyse prédictive pour '" + catName + "' est en cours de préparation. Les données de scraping multi-marketplaces seront disponibles prochainement.";
    }
</script>

</body>
</html>