ğŸš€ CONFIGURATION NETLIFY - BUNNY CDN DYNAMIQUE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ“‹ FICHIERS Ã€ UPLOADER

Voici la structure complÃ¨te Ã  mettre sur ton site :

```
ton-site/
â”œâ”€â”€ netlify/
â”‚   â””â”€â”€ functions/
â”‚       â”œâ”€â”€ list-bunny-images.js    â† Netlify Function pour lister les images
â”‚       â””â”€â”€ list-categories.js       â† Netlify Function pour lister les catÃ©gories
â”œâ”€â”€ bunny-loader.js                  â† Script qui charge les images dynamiquement
â”œâ”€â”€ marketplace.html                 â† Ta page marketplace (version connectÃ©e)
â””â”€â”€ ... (tes autres fichiers)
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## âš™ï¸ Ã‰TAPE 1 : CONFIGURER LES VARIABLES D'ENVIRONNEMENT

Dans Netlify :

1. Va sur **Site settings** â†’ **Environment variables**
2. Clique sur **Add a variable**
3. Ajoute ces 4 variables :

**Variable 1 :**
- Key: `BUNNY_STORAGE_ZONE`
- Value: `gabaritkdp-images`

**Variable 2 :**
- Key: `BUNNY_API_KEY`
- Value: [Ton Storage Zone Password]
  
  ğŸ“ Pour trouver ton password :
  - Va sur Bunny.net
  - Clique sur ton Storage Zone
  - Onglet "FTP & API Access"
  - Copy le "Password"

**Variable 3 :**
- Key: `BUNNY_CDN_URL`
- Value: `https://gabaritkdp.b-cdn.net`

**Variable 4 :**
- Key: `BUNNY_STORAGE_HOST`
- Value: `storage.bunnycdn.com`

4. Clique sur **Save**

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ“¤ Ã‰TAPE 2 : UPLOADER LES FICHIERS

### Option A : Via Git (recommandÃ©)

```bash
# 1. Copie les fichiers dans ton repo local
cp netlify/functions/list-bunny-images.js ton-repo/netlify/functions/
cp netlify/functions/list-categories.js ton-repo/netlify/functions/
cp bunny-loader.js ton-repo/
cp marketplace.html ton-repo/

# 2. Commit et push
cd ton-repo
git add .
git commit -m "Add Bunny CDN dynamic loader"
git push
```

### Option B : Via Netlify UI

1. Va sur **Deploys** â†’ **Deploy manually**
2. Drag & drop ton dossier complet
3. Netlify dÃ©ploie automatiquement

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## âœ… Ã‰TAPE 3 : VÃ‰RIFIER QUE Ã‡A MARCHE

### Test 1 : VÃ©rifier les Functions

Ouvre dans ton navigateur :
```
https://ton-site.netlify.app/.netlify/functions/list-categories?folder=FULL%20COVER
```

Tu dois voir un JSON avec la liste des catÃ©gories.

### Test 2 : VÃ©rifier les images

Ouvre :
```
https://ton-site.netlify.app/.netlify/functions/list-bunny-images?folder=FULL%20COVER/Art
```

Tu dois voir un JSON avec toutes les images.

### Test 3 : Tester le marketplace

1. Ouvre `https://ton-site.netlify.app/marketplace.html`
2. Clique sur une catÃ©gorie (ex: "Art Style")
3. Une galerie doit s'ouvrir avec toutes les images !

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ› DÃ‰PANNAGE

### Erreur "Function not found"

**ProblÃ¨me :** Les Netlify Functions ne sont pas dÃ©ployÃ©es

**Solution :**
1. VÃ©rifie que le dossier est bien `netlify/functions/` (pas `netlify/function/`)
2. VÃ©rifie que les fichiers sont bien des `.js`
3. RedÃ©ploie le site

### Erreur "HTTP 401 Unauthorized"

**ProblÃ¨me :** La clÃ© API Bunny est incorrecte

**Solution :**
1. Va sur Bunny.net
2. Storage Zone â†’ FTP & API Access
3. Copie exactement le Password
4. Mets-le dans `BUNNY_API_KEY` sur Netlify
5. RedÃ©ploie (important aprÃ¨s changement de variables)

### Erreur "Cannot find module"

**ProblÃ¨me :** Les imports Node.js ne fonctionnent pas

**Solution :**
VÃ©rifie que tes fichiers `.js` utilisent bien :
```javascript
import https from 'https';
```
Et PAS :
```javascript
const https = require('https');
```

### Les images ne s'affichent pas

**ProblÃ¨me :** CORS ou URLs incorrectes

**Solution :**
1. Ouvre la console du navigateur (F12)
2. Regarde les erreurs
3. VÃ©rifie que les URLs Bunny sont correctes
4. VÃ©rifie que `BUNNY_CDN_URL` est bien configurÃ©

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ¯ COMMENT Ã‡A MARCHE

### Architecture

```
UTILISATEUR clique sur une catÃ©gorie
    â†“
JavaScript appelle loadCategoryImages('FULL COVER/Art')
    â†“
bunny-loader.js fait un fetch vers /.netlify/functions/list-bunny-images
    â†“
Netlify Function appelle l'API Bunny CDN
    â†“
Bunny retourne la liste des images
    â†“
Function transforme en JSON propre
    â†“
bunny-loader.js affiche les images dans une galerie
```

### Avantages

âœ… **Dynamique** : Ajoute des images sur Bunny â†’ elles apparaissent automatiquement
âœ… **Performant** : Bunny CDN global, ultra rapide
âœ… **SÃ©curisÃ©** : ClÃ© API cachÃ©e cÃ´tÃ© serveur (Netlify Functions)
âœ… **Scalable** : Fonctionne avec 10 ou 10,000 images
âœ… **Maintenance facile** : Pas besoin de modifier le code HTML

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## ğŸ“ BESOIN D'AIDE ?

Si quelque chose ne marche pas :

1. **Check les logs Netlify :**
   - Site â†’ Functions
   - Clique sur une function
   - Regarde les logs en temps rÃ©el

2. **Check la console navigateur :**
   - F12 â†’ Console
   - Regarde les erreurs JavaScript

3. **Teste les URLs directement :**
   - Ouvre les URLs des functions dans le navigateur
   - VÃ©rifie qu'elles retournent du JSON valide

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ Une fois configurÃ©, ton marketplace sera 100% dynamique !
Ajoute des images sur Bunny, elles apparaissent automatiquement ! ğŸš€
