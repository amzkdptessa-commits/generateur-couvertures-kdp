<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-fr="Marketplace - GabaritKDP" data-en="Marketplace - GabaritKDP">Marketplace - GabaritKDP</title>
  <meta name="description"
        data-fr="D√©couvrez 6600+ templates KDP professionnels pour vos couvertures et int√©rieurs de livres Amazon."
        data-en="Discover 6600+ professional KDP templates for your Amazon book covers and interiors.">

  <script>
    function detectUserLanguage() {
      const userChoice = localStorage.getItem('preferredLanguage');
      if (userChoice) return userChoice;
      return 'en';
    }
    const defaultLang = detectUserLanguage();
    document.documentElement.lang = defaultLang;
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif; background:#fff; }

    /* ===== HEADER + MOBILE MENU (from marketplacesave.html) ===== */
    .language-selector{background:#fff;border-radius:20px;box-shadow:0 4px 15px rgba(0,0,0,.1);padding:3px;display:flex;gap:2px;align-items:center}
    .lang-btn{padding:6px 10px;border:none;background:transparent;border-radius:16px;cursor:pointer;transition:.3s;font-weight:600;font-size:.8rem;line-height:1}
    .lang-btn.active{background:#FF9900;color:#fff}

    .header-nav{background:linear-gradient(135deg,#1e293b 0%,#334155 100%);padding:15px 0;box-shadow:0 4px 20px rgba(0,0,0,.1);position:sticky;top:0;z-index:999}
    .nav-container{max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:0 20px;flex-wrap:wrap;gap:0}
    .logo-nav{display:flex;align-items:center;gap:15px;text-decoration:none;color:#fff;flex-shrink:0}
    .logo-nav img{height:40px;width:auto}
    .logo-nav span{font-size:1.3rem;font-weight:800;color:#FF9900}

    .nav-links{width:100%;display:flex;justify-content:center;align-items:center;gap:25px;flex-wrap:wrap}
    .nav-links a{color:#fff;text-decoration:none;font-weight:600;transition:.3s;padding:10px 14px;border-radius:8px;position:relative;display:flex;align-items:center;gap:6px;font-size:.95rem}
    .nav-links a:hover{color:#FF9900;background:rgba(255,153,0,.1)}
    .nav-links a.active{color:#FF9900;background:rgba(255,153,0,.15)}
    .express-nav-btn{background:linear-gradient(135deg,#10b981,#059669)!important;color:#fff!important;font-weight:800!important}
    .express-nav-btn:hover{background:linear-gradient(135deg,#0d9488,#047857)!important}
    .express-nav-btn::before{content:"‚ö°";margin-right:4px}

    .mobile-menu{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(15,23,42,.98);z-index:9999;opacity:0;pointer-events:none;transition:.25s;display:flex;align-items:center;justify-content:center;padding:30px}
    .mobile-menu.active{opacity:1;pointer-events:auto}
    .mobile-menu-links{display:flex;flex-direction:column;gap:12px;width:100%;max-width:400px;margin:0 auto}
    .mobile-menu-links a{color:#0f172a;text-decoration:none;font-weight:800;padding:15px 20px;border-radius:12px;background:#fff;border:1px solid rgba(255,255,255,.2);transition:.3s;display:flex;align-items:center;gap:12px;font-size:1.05rem}
    .mobile-menu-links a:hover{transform:translateY(-2px)}
    .mobile-menu-close{position:absolute;top:20px;right:20px;background:none;border:none;color:#fff;font-size:1.8rem;cursor:pointer}
    .mobile-menu-toggle{display:none}

    @media (max-width:768px){
      .nav-links{display:none}
      .mobile-menu-toggle{display:block;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:8px;margin-left:auto}
      .nav-container{flex-wrap:nowrap}
    }
    @media (min-width:769px){
      .mobile-menu-toggle{display:none}
    }

    /* ===== PAGE STYLES ===== */
    .premium_edit_sec { background:linear-gradient(135deg,#1e293b 0%,#334155 100%); padding: 40px 0; }

    .category-card { position:relative; border-radius:12px; overflow:hidden; aspect-ratio:4/3; cursor:pointer; transition:0.3s;
      box-shadow:0 4px 15px rgba(0,0,0,0.15); background:#2d3748; }
    .category-card:hover { transform:translateY(-5px); }
    .category-card img { width:100%; height:100%; object-fit:cover; }

    .category-overlay { position:absolute; inset:0; background:linear-gradient(to top, rgba(0,0,0,0.85) 0%, transparent 60%);
      display:flex; flex-direction:column; justify-content:flex-end; padding:1rem; pointer-events:none; }
    .category-name { font-size:0.9rem; font-weight:800; color:#fff; margin-bottom:.2rem; text-transform: uppercase; letter-spacing:.03em; }

    .category-badge { position:absolute; top:0.8rem; right:0.8rem; padding:.2rem .6rem; border-radius:9999px; font-size:.55rem; font-weight:900; color:#fff; pointer-events:none; }
    .badge-premium { background:linear-gradient(135deg,#dc2626,#b91c1c); }
    .badge-popular { background:#f59e0b; }
    .badge-best { background:#8b5cf6; }

    /* Footer social styles (from marketplacesave.html) */
    .social-links{display:flex;justify-content:center;gap:12px;margin-top:14px;flex-wrap:wrap}
    .social-link{width:42px;height:42px;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.05rem;transition:.25s;text-decoration:none}
    .social-link:hover{transform:translateY(-2px)}
    .youtube{background:#FF0000}
    .facebook{background:#1877F2}
    .instagram{background:linear-gradient(45deg,#405DE6,#833AB4,#FD1D1D)}
    .pinterest{background:#BD081C}
    .tiktok{background:#000;border:1px solid #444}
    .linkedin{background:#0A66C2}
  </style>
</head>

<body class="bg-white">

  <!-- Navigation Header (from marketplacesave.html) -->
  <header class="header-nav notranslate">
    <div class="nav-container">
      <a href="./index.html" class="logo-nav">
        <img src="logo-gabarit-kdp-site-web.png" alt="GabaritKDP Logo">
        <span>GabaritKDP</span>
      </a>

      <!-- Menu Hamburger - Mobile -->
      <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Open menu">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Language Selector -->
      <div class="language-selector">
        <button class="lang-btn" data-lang="fr" onclick="switchLanguage('fr')">üá´üá∑</button>
        <button class="lang-btn active" data-lang="en" onclick="switchLanguage('en')">üá∫üá∏</button>
      </div>

      <!-- Navigation Desktop -->
      <nav class="nav-links">
        <a href="./index.html" data-fr="üè† Accueil" data-en="üè† Home">üè† Home</a>
        <a href="./dashboard.html" data-fr="üìä tableau de bord" data-en="üìä Dashboard">üìä Dashboard</a>
        <a href="./generator.html" class="express-nav-btn" data-fr="G√©n√©rateur Express" data-en="Express Generator">Express Generator</a>
        <a href="./generator-magic.html" data-fr="G√©n√©rateur Magique" data-en="Magic Generator">G√©n√©rateur Magique</a>
        <a href="./marketplace.html" class="active" data-fr="March√©" data-en="Marketplace">Marketplace</a>
        <a href="./inscription.html" data-fr="üìù Inscription" data-en="üìù Sign Up">üìù Sign Up</a>
        <a href="./connexion.html" data-fr="üîì Connexion" data-en="üîì Login">üîì Login</a>
      </nav>
    </div>
  </header>

  <!-- Mobile menu overlay (from marketplacesave.html) -->
  <div class="mobile-menu" id="mobileMenu">
    <button class="mobile-menu-close" onclick="toggleMobileMenu()" aria-label="Close menu"><i class="fas fa-times"></i></button>
    <div class="mobile-menu-links">
      <a href="/index.html" data-fr="üè† Accueil" data-en="üè† Home">üè† Home</a>
      <a href="/generator.html" style="background: linear-gradient(135deg, #10b981, #059669); color:#fff;"
         data-fr="‚ö° G√©n√©rateur Express" data-en="‚ö° Express Generator">‚ö° Express Generator</a>
      <a href="/generator-magic.html" data-fr="G√©n√©rateur Magique" data-en="Magic Generator">Magic Generator</a>
      <a href="/marketplace.html" data-fr="March√©" data-en="Marketplace">Marketplace</a>
      <a href="/pricing.html" style="background: rgba(251, 191, 36, 0.2);"
         data-fr="üí∞ Tarifs" data-en="üí∞ Pricing">üí∞ Pricing</a>
      <a href="/inscription.html" style="background: rgba(34, 197, 94, 0.2);"
         data-fr="üìù Inscription" data-en="üìù Sign Up">üìù Sign Up</a>
      <a href="/connexion.html" data-fr="üîì Connexion" data-en="üîì Login">üîì Login</a>
    </div>
  </div>

  <!-- Hero -->
  <section class="py-10 bg-slate-50 text-center border-b border-gray-100">
    <h1 class="text-3xl md:text-4xl font-black text-gray-900 mb-2">
      <span data-fr="Marketplace" data-en="Marketplace">Marketplace</span> <span style="color:#FF9900;">KDP</span>
    </h1>
    <p class="text-md text-gray-500"
       data-fr="6600+ templates professionnels pour vos livres Amazon KDP"
       data-en="6600+ professional templates for your Amazon KDP books">
      6600+ professional templates for your Amazon KDP books
    </p>
  </section>

  <!-- SECTION 1: PREMIUM (FULL COVER) -->
  <section class="premium_edit_sec">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold text-white text-center mb-8 uppercase tracking-widest">üî• Premium Edition</h2>
      <div id="grid-premium" class="grid grid-cols-2 md:grid-cols-4 gap-6"></div>
      <p class="text-center text-white/70 text-sm mt-6"
         data-fr="Chaque cat√©gorie affiche automatiquement vignette.png (plus simple avec FileZilla)."
         data-en="Each category automatically displays vignette.png (easier with FileZilla).">
        Each category automatically displays vignette.png (easier with FileZilla).
      </p>
    </div>
  </section>

  <!-- SECTION 2: BOOK COVERS (BACKGROUND IMAGES) -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8 text-gray-900 uppercase tracking-widest">üìö Book Covers (Backgrounds)</h2>
      <div id="grid-backgrounds" class="grid grid-cols-2 md:grid-cols-4 gap-6"></div>
    </div>
  </section>

  <!-- SECTION 3: BOOK INTERIORS -->
  <section class="py-16 bg-slate-50 border-t border-gray-100">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold text-center mb-8 text-gray-900 uppercase tracking-widest"
          data-fr="üìñ Int√©rieurs de Livres" data-en="üìñ Book Interiors">üìñ Book Interiors</h2>
      <div id="grid-interiors" class="grid grid-cols-1 md:grid-cols-2 max-w-4xl mx-auto gap-8"></div>
    </div>
  </section>

  <!-- Footer (from marketplacesave.html) -->
  <footer class="bg-gray-900 text-gray-300 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="social-section">
        <h4 class="text-white font-semibold mb-4 text-center"
            data-fr="üöÄ Suivez-nous pour les derni√®res actualit√©s KDP !"
            data-en="üöÄ Follow us for the latest KDP news!">
          üöÄ Follow us for the latest KDP news!
        </h4>
        <div class="social-links">
          <a href="https://www.youtube.com/@Gabaritkdp" class="social-link youtube" target="_blank" rel="noreferrer"><i class="fab fa-youtube"></i></a>
          <a href="https://www.facebook.com/profile.php?id=61578785408904" class="social-link facebook" target="_blank" rel="noreferrer"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com/gabaritkdp/" class="social-link instagram" target="_blank" rel="noreferrer"><i class="fab fa-instagram"></i></a>
          <a href="https://fr.pinterest.com/Gabaritkdp/" class="social-link pinterest" target="_blank" rel="noreferrer"><i class="fab fa-pinterest-p"></i></a>
          <a href="https://www.tiktok.com/@gabaritkdp" class="social-link tiktok" target="_blank" rel="noreferrer"><i class="fab fa-tiktok"></i></a>
          <a href="https://www.linkedin.com/in/gabarit-kdp-073368378/" class="social-link linkedin" target="_blank" rel="noreferrer"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>

      <div class="grid md:grid-cols-4 gap-8 mt-10">
        <div>
          <div class="flex items-center mb-4">
            <img src="logo-gabarit-kdp-site-web.png" alt="GabaritKDP" class="h-8 w-auto">
            <span class="ml-2 text-white font-bold">GabaritKDP</span>
          </div>
          <p class="text-gray-400"
             data-fr="Le g√©n√©rateur de couvertures KDP 100% conformes Amazon."
             data-en="The 100% Amazon-compliant KDP cover generator.">
            The 100% Amazon-compliant KDP cover generator.
          </p>
        </div>

        <div>
          <h4 class="text-white font-semibold mb-4" data-fr="Produit" data-en="Product">Product</h4>
          <ul class="space-y-2">
            <li><a href="/generator.html" class="hover:text-white transition" data-fr="G√©n√©rateur" data-en="Generator">Generator</a></li>
            <li><a href="/marketplace.html" class="hover:text-white transition">Marketplace</a></li>
            <li><a href="/pricing.html" class="hover:text-white transition" data-fr="Tarifs" data-en="Pricing">Pricing</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-white font-semibold mb-4">Support</h4>
          <ul class="space-y-2">
            <li><a href="/faq.html" class="hover:text-white transition">FAQ</a></li>
            <li><a href="/contact.html" class="hover:text-white transition">Contact</a></li>
            <li><a href="/guide.html" class="hover:text-white transition" data-fr="Guide" data-en="Guide">Guide</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-white font-semibold mb-4" data-fr="L√©gal" data-en="Legal">Legal</h4>
          <ul class="space-y-2">
            <li><a href="/mentions-legales.html" class="hover:text-white transition" data-fr="Mentions l√©gales" data-en="Legal Notice">Legal Notice</a></li>
            <li><a href="/cgu.html" class="hover:text-white transition" data-fr="CGU" data-en="Terms">Terms</a></li>
            <li><a href="/confidentialite.html" class="hover:text-white transition" data-fr="Confidentialit√©" data-en="Privacy">Privacy</a></li>
          </ul>
        </div>
      </div>

      <div class="border-t border-gray-800 mt-8 pt-8 text-center">
        <p>&copy; 2025 GabaritKDP. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    /* ======= CONFIG =======
       FULL COVER uses vignette.png automatically (robust with FileZilla).
       Backgrounds keep existing sample images (you can convert them later too if you add vignette.png there).
    */

    const BUNNY_PULL_BASE = "https://gabaritkdp.b-cdn.net";

    function encodeBunnyPath(path) {
      // Encodes each segment, preserves slashes
      return path.split('/').map(seg => encodeURIComponent(seg)).join('/');
    }

    function vignetteUrl(folderPath) {
      return `${BUNNY_PULL_BASE}/${encodeBunnyPath(folderPath)}/vignette.png`;
    }

    const config = {
      premium: [
        // NOTE: ensure vignette.png exists at:
        // FULL COVER/Art/vignette.png, FULL COVER/Boheme/vignette.png, etc.
        { name: "Art",       path: "FULL COVER/Art",        badge: "PREMIUM" },
        { name: "Boheme",    path: "FULL COVER/Boheme" },
        { name: "Fantasy",   path: "FULL COVER/FANTASY",    badge: "POPULAR" },
        { name: "Fleurs",    path: "FULL COVER/Fleurs" },

        /* ‚úÖ FIXED PATHS (no more /Historical/Historical etc.) */
        { name: "Historical", path: "FULL COVER/Historical" },
        { name: "Horror",     path: "FULL COVER/Horror",    badge: "NEW" },
        { name: "Mystery",    path: "FULL COVER/Mystery" },
        { name: "Sci-Fi",     path: "FULL COVER/Sci-fi" },
        { name: "Thriller",   path: "FULL COVER/Thriller" },

        { name: "Religions", path: "FULL COVER/RELIGIONS" },
        { name: "Romance",   path: "FULL COVER/Romance",    badge: "BEST" },

        // Example: if you want Voyages to be a category root, put vignette.png there too:
        // FULL COVER/Voyages/vignette.png
        { name: "Voyages",   path: "FULL COVER/Voyages" }
      ],

      backgrounds: [
        { name: "Romance",   path: "backgrounds/ROMANCE",   img: "https://gabaritkdp.b-cdn.net/backgrounds/ROMANCE/DARK%20ROMANCE/Dark%20romance/image_couverture_de_livres_romance_dark_romance_002.png" },
        { name: "Thriller",  path: "backgrounds/THRILLER",  img: "https://gabaritkdp.b-cdn.net/backgrounds/THRILLER/THRILLER%20%E2%80%93%20NOIR/image_couverture_de_livres_thriller_thriller_noir_012.png" },
        { name: "Fantasy",   path: "backgrounds/FANTASY",   img: "https://gabaritkdp.b-cdn.net/backgrounds/FANTASY/EPIC%20FANTASY/EPIC%20FANTASY/image_couverture_de_livres_fantasy_epic_fantasy_006.png" },
        { name: "Mystery",   path: "backgrounds/MYSTERY",   img: "https://gabaritkdp.b-cdn.net/backgrounds/MYSTERY/Cozy%20Mystery/Cozy%20Mystery/image_couverture_de_livres_mystery_cozy_mystery_004.png" },
        { name: "Sci-Fi",    path: "backgrounds/SCI-FI",    img: "https://gabaritkdp.b-cdn.net/backgrounds/SCI-FI/TECH%20ROMANCE%20%20AI/image_couverture_de_livres_sci_fi_tech_romance_ai_001.png" },
        { name: "Historical",path: "backgrounds/HISTORICAL",img: "https://gabaritkdp.b-cdn.net/backgrounds/HISTORICAL/Medieval/Medieval/image_couverture_de_livres_historical_medieval_010.png" },
        { name: "Boheme",    path: "backgrounds/BOHEME",    img: "https://gabaritkdp.b-cdn.net/backgrounds/BOHEME/BOHEME/Boheme_270.png" },
        { name: "Hippie",    path: "backgrounds/HIPPIE",    img: "https://gabaritkdp.b-cdn.net/backgrounds/HIPPIE/HIPPIE/image_couverture_de_livres_hippie_013.png" },
        { name: "Business",  path: "backgrounds/BUSINESS",  img: "https://gabaritkdp.b-cdn.net/backgrounds/BUSINESS/Entrepreneurship/Entrepreneurship/image_couverture_de_livres_business_entrepreneurship_008.png" },
        { name: "Cartoon",   path: "backgrounds/CARTOON",   img: "https://gabaritkdp.b-cdn.net/backgrounds/CARTOON/Dinosaures/Dinosaures/image_couverture_de_livres_cartoon_dinosaures_006.png" },
        { name: "Animals",   path: "backgrounds/ANIMAUX",   img: "https://gabaritkdp.b-cdn.net/backgrounds/ANIMAUX/Loups/Loups/image_couverture_de_livres_animaux_loups_004.png" }
      ],

      interiors: [
        { name: "Planners",       url: "category-planners.html",   img: "https://gabaritkdp.b-cdn.net/UI/book-interiors/Vignettes%20PLANNERS%202026.png", badge: "BEST SELLER" },
        { name: "Coloring Books", url: "category-coloriages.html", img: "https://gabaritkdp.b-cdn.net/UI/book-interiors/Vignette%20COLORING%20BOOKS.png" }
      ]
    };

    function badgeClass(badge) {
      const b = (badge || "").toUpperCase();
      if (b.includes("PREMIUM")) return "badge-premium";
      if (b.includes("POPULAR") || b.includes("NEW")) return "badge-popular";
      return "badge-best";
    }

    function render(data, gridId, opts = {}) {
      const { isInterior = false, useVignetteByDefault = false } = opts;
      const grid = document.getElementById(gridId);
      if (!grid) return;

      grid.innerHTML = "";

      data.forEach(item => {
        const link = isInterior
          ? item.url
          : `category.html?path=${encodeURIComponent(item.path)}`;

        const imgSrc = item.img
          ? item.img
          : (useVignetteByDefault ? vignetteUrl(item.path) : "");

        const safeName = (item.name || "").replace(/"/g, "&quot;");

        grid.innerHTML += `
          <div class="category-card" onclick="location.href='${link}'" role="button" tabindex="0"
               onkeydown="if(event.key==='Enter'){location.href='${link}'}">
            <img src="${imgSrc}" alt="${safeName}" loading="lazy"
                 onerror="this.src='https://via.placeholder.com/600x450?text=${encodeURIComponent(item.name)}'">
            ${item.badge ? `<span class="category-badge ${badgeClass(item.badge)}">${item.badge}</span>` : ''}
            <div class="category-overlay">
              <div class="category-name">${item.name}</div>
            </div>
          </div>`;
      });
    }

    /* ===== Language + Mobile Menu (from marketplacesave.html) ===== */
    let currentLanguage = localStorage.getItem('preferredLanguage') || 'en';

    function switchLanguage(lang) {
      currentLanguage = lang;
      localStorage.setItem('preferredLanguage', lang);
      document.documentElement.lang = lang;

      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
      });

      document.querySelectorAll('[data-fr][data-en]').forEach(el => {
        const text = el.getAttribute(`data-${lang}`);
        if (text) {
          if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = text;
          } else {
            el.innerHTML = text;
          }
        }
      });
    }

    function toggleMobileMenu() {
      document.getElementById('mobileMenu').classList.toggle('active');
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Premium = FULL COVER => vignette.png
      render(config.premium, 'grid-premium', { useVignetteByDefault: true });

      // Backgrounds + Interiors = unchanged
      render(config.backgrounds, 'grid-backgrounds');
      render(config.interiors, 'grid-interiors', { isInterior: true });

      // Language init
      switchLanguage(currentLanguage);
    });
  </script>
</body>
</html>
